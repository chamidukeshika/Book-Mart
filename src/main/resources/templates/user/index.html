<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeLeaf.org"
	th:replace="~{base::Layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Home Page</title>
</head>
<body>
	<section>
		<!-- Start Slider -->
		<div class="col-md-12 mx-auto mt-5 p-3" style="margin-top: 80px;">
			<div class="card shadow"
				style="border-radius: 20px; overflow: hidden; border: none; position: relative;">
				<!-- Video -->
				<video autoplay muted loop playsinline
					style="width: 100%; max-height: 90vh; object-fit: cover;">
					<source src="/img/bookmartintro.mp4" type="video/mp4">
				</video>
				<!-- Shadowed Text -->
				<div
					style="position: absolute; bottom: 0; left: 0; width: 100%; height: 30%; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; z-index: 10; text-align: center;">
					<h1
						style="font-size: 2.5rem; font-weight: bold; text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.7); margin: 0; color: white;">
						Welcome to <span style="color: #AFD6F8;">BOOK-MART</span>
					</h1>
					<p
						style="font-size: 1.2rem; text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.9); margin: 10px 0; color: white;">
						Discover new stories and elevate your reading experience with our
						curated collection.</p>
					<a href="/products"
						style="display: inline-block; padding: 10px 20px; background-color: #007BFF; color: white; font-size: 1rem; font-weight: bold; text-decoration: none; border-radius: 30px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.4); transition: background-color 0.3s ease, transform 0.3s ease;"
						onmouseover="this.style.backgroundColor='#0056b3'; this.style.transform='scale(1.05)';"
						onmouseout="this.style.backgroundColor='#007BFF'; this.style.transform='scale(1)';">
						<i class="fas fa-shopping-bag"></i>&nbsp; Explore Now
					</a>
				</div>

			</div>
		</div>

		<style>
/* Hide scrollbar */
div[style*="overflow-x: auto"]::-webkit-scrollbar {
	display: none;
}

div[style*="overflow-x: auto"] {
	-ms-overflow-style: none; /* IE and Edge */
	scrollbar-width: none; /* Firefox */
	overflow-y: hidden; /* Ensure no vertical scrolling */
}
</style>


		<style>
#cards:hover {
	transform: scale(1.1);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
	transition: transform 0.5s ease, box-shadow 0.5s ease;
}
</style>

		<!-- Start Category Module -->
		<div class="container">
			<br />
			<!-- Check if both categories and products are empty -->
			<th:block
				th:if="${#lists.isEmpty(category) and #lists.isEmpty(products)}">
				<div class="container text-center mt-5">
					<div class="card shadow-lg p-4"
						style="border-radius: 20px; object-fit: cover; background: linear-gradient(135deg, #3B82F6, #60A5FA); color: white; border: none;">
						<div class="card-body">
							<i class="fas fa-box-open fa-bounce fa-4x mb-3"
								style="color: #FFDD57;"></i>
							<h3 class="fw-bold">Updating Categories & Inventory</h3>
							<p class="fs-6 mt-2" style="opacity: 0.9;">We're working on
								bringing you the latest items. Please check back soon!</p>
							<div class="mt-3">
								<div class="spinner-border text-light" role="status">
									<span class="visually-hidden">Loading...</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</th:block>

			<!-- If categories or products exist, show normal content -->
			<th:block
				th:unless="${#lists.isEmpty(category) and #lists.isEmpty(products)}">
				<!-- Categories Section -->
				<div class="container">
					<br />
					<div class="row">
						<p class="text-center fs-2 fw-semibold">Categories</p>
						<br />
						<div
							style="display: flex; overflow-x: auto; overflow-y: hidden; padding: 10px; scrollbar-width: none; -ms-overflow-style: none;">
							<div class="col-8 col-sm-4 col-md-4 col-lg-2 p-3"
								th:each="c:${category}"
								style="flex: 0 0 auto; margin-right: 10px; display: flex; justify-content: center; align-items: center;">
								<a th:href="@{'/products?category='+${c.name}}"
									style="text-decoration: none; color: inherit;">
									<div id="cards" class="card"
										style="width: 150px; height: 150px; display: flex; flex-direction: column; border-radius: 50%; align-items: center; overflow: hidden; position: relative; border: 3px solid #AFD6F8;">
										<div class="card-body text-center"
											style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 1; background: white; border-radius: 50%;">
											<img th:src="@{'img/category_img/'+${c.imageName}}"
												style="width: 70%; height: 70%; overflow: hidden; border-radius: 10px; margin-bottom: 10px;">
											<p class="text-center fw-medium" th:text="${c.name}"
												style="word-wrap: break-word; max-width: 100%;"></p>
										</div>
									</div>
								</a>
							</div>
						</div>
					</div>
				</div>

				<!-- Latest Products Section -->
				<div class="container-fluid bg-light">
					<br />
					<div class="row">
						<p class="text-center fs-2 fw-semibold">Latest Products</p>
						<br />
						<div
							class="col-12 col-sm-6 col-md-4 col-lg-3 d-flex justify-content-center mb-4"
							th:each="p:${products}">
							<a th:href="@{/product/{id}(id=${p.id})}"
								class="text-decoration-none">
								<div id="cards" class="card shadow p-2 rounded mt-3"
									style="width: 18rem; border: none;">
									<div class="card-body text-center">
										<img alt="product image"
											th:src="@{'img/product_img/'+${p.image}}" class="img-fluid"
											style="max-height: 140px;">
										<p class="text-center mt-3 fw-medium" th:text="${p.title}"></p>
									</div>
								</div>
							</a>
						</div>
					</div>
				</div>
			</th:block>

		</div>
	</section>
</body>
</html>
